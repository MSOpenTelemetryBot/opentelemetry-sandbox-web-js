name: 'Auto Merge from master OTel JS repos'

on:
  workflow_dispatch:

#on:
#  push:
#    branches: [ MSNev/AutoMerge ]

jobs:
  action:
    runs-on: ubuntu-latest
        
    steps:
      - uses: actions/checkout@v3
        #with:
          #repository: MSNev/opentelemetry-sandbox-web-js.git
          # this is the PAT used for "git push" below
          #token: ${{ secrets.BOT_TOKEN }}
      - name: Set git user
        run: |
          # TODO update with your bot account info
          git config user.name opentelemetrybot
          git config user.email 107717825+opentelemetrybot@users.noreply.github.com        
      - name: Merge changes from JS and JS-API repos
        env:
          # not using secrets.GITHUB_TOKEN since pull requests from that token do not run workflows
          GITHUB_TOKEN: ${{ secrets.BOT_TOKEN }}
        run: npm run do-sandbox-repo-merge
        #run: |
        ##  echo "Hello" > ug.txt
        # git add ug.txt
        # git commit -m "Test"
        # git push origin HEAD:Test
